<div class="container">
    <div class="reset-pass-container bg-light p-4 rounded shadow">
        <h2 class="text-center mb-4">Quên mật khẩu</h2>

        <!-- Form gửi mã xác nhận -->
        <form #resetPassForm="ngForm" (ngSubmit)="resetPassWord()" *ngIf="!isEmailSent">
            <div class="form-group mb-3">
                <label for="phone" class="form-label">Số điện thoại</label>
                <input type="tel" [(ngModel)]="otpCodeDTO.phone" class="form-control" name="phone" id="phone" 
                    placeholder="Nhập số điện thoại" required>
            </div>

            <div class="form-group mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" [(ngModel)]="otpCodeDTO.email" class="form-control" name="email" id="email" 
                    placeholder="Nhập địa chỉ email" required>
            </div>

            <button type="submit" class="btn btn-primary w-100">Gửi mã xác nhận</button>
        </form>

        <!-- Form đặt lại mật khẩu -->
        <form #newPasswordForm="ngForm" (ngSubmit)="confirmResetPassword()" *ngIf="isEmailSent && !isResetSuccessful">
            <div class="form-group mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" [(ngModel)]="resetPasswordDTO.email" class="form-control" name="email" id="email" 
                    placeholder="Nhập địa chỉ email" required>
            </div>

            <div class="form-group mb-3">
                <label for="otp" class="form-label">Mã xác nhận</label>
                <input type="text" [(ngModel)]="resetPasswordDTO.otp" class="form-control" name="otp" id="otp" 
                    placeholder="Nhập mã xác nhận" required>
            </div>

            <div class="form-group mb-3">
                <label for="newPassword" class="form-label">Mật khẩu mới</label>
                <input type="password" [(ngModel)]="resetPasswordDTO.newPassword" class="form-control" name="newPassword" id="newPassword" 
                    placeholder="Nhập mật khẩu mới" required>
            </div>

            <div class="form-group mb-3">
                <label for="confirmPassword" class="form-label">Xác nhận mật khẩu mới</label>
                <input type="password" [(ngModel)]="confirmPassword" class="form-control" name="confirmPassword" id="confirmPassword" 
                    placeholder="Xác nhận mật khẩu mới" required>
            </div>

            <button type="submit" class="btn btn-primary w-100">Đặt lại mật khẩu</button>
        </form>

        <!-- Thông báo thành công -->
        <div *ngIf="isResetSuccessful" class="alert alert-success mt-3">
            <p class="mb-0">Mật khẩu đã được đặt lại thành công.</p>
            <a href="/login" class="btn btn-link">Đăng nhập ngay</a>
        </div>
    </div>
</div>